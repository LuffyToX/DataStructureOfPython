# 图

一个图是一个二元组 $G=(V,E)$：

+ $V$ 是非空有穷的顶点集合（顶点是图中的基本个体，可以表示任何讨论中需要关心的实体）
+ $E$ 是顶点偶对（也称为边）的集合，$E\subseteq V\times V$

一个重要的性质：$\mid E\mid \leq \mid V\mid ^2$，也就是说，对于不同的图，其中边的条数最大为顶点个数的平方



图分为有向图和无向图：

+ 有向图：图中的边有方向，如：$<v_i,v_j>$ 表示从顶点 $v_i$ 到顶点 $v_j$ 的有向边
+ 无向图：图中的边无方向，如：$(v_i,v_j)$ 与 $(v_j,v_i)$ 表示同一条无向边



如果在图 $G$ 中有边 $<v_i, v_j>\in E$（对于无向图，有 $(v_i,v_j)\in E$），则称顶点 $v_j$ 为 $v_i$ 的邻接点（无向图里的邻接关系是双向的），也称这条边为 $v_i$ 的邻接边，也就是说，边集合 $E$ 表示的是顶点之间的邻接关系



完全图：任意两个顶点之间都有边的图（有向图或无向图）称为完全图

+ $n$ 个顶点的无向完全图有 $C_n^2=n(n-1)/2$ 条边
+ $n$ 个顶点的有向完全图有 $2C_n^2=n(n-1)$ 条边

![完全图](https://ss3.bdstatic.com/70cFv8Sh_Q1YnxGkpoWK1HF6hhy/it/u=348156199,1935306188&fm=26&gp=0.jpg)



度：一个顶点的度就是与它邻接的边的条数

> 对于有向图，顶点的度还分为出度和入度
>
> + 入度：以该顶点为终点
> + 出度：以该顶点为起点

无论对于有向图还是无向图，顶点数 $n$、边数 $e$ 和顶点度数 $\sum D(v_i)$ 之间都有如下关系：
$$
e=\frac{1}{2}\sum_{i=1}^n D(v_i)
$$


**路径**

对于图 $G=(V，E)$，如果存在序列 $v_0、v_1、\cdots 、v_m$，使得 $(v_0，v_1)、(v_1，v_2)、\cdots 、(v_{m-1}，v_m)\in E$，则说从顶点 $v_0$ 到顶点 $v_m$ 存在路径，并称 $(v_0、v_1、\cdots、v_m)$ 是二者间的一条路径（对于有向图同理）

+ 路径的长度就是该路径上边的条数
+ 回路（环）指起点和终点相同的路径
+ 如果一个环除起点和终点外的其他顶点均不相同，则称为简单回路（简单回路也是简单路径）
+ 简单路径是指内部不包含回路的路径（该路径上的顶点除起点和终点可能相同外，其他顶点均不相同）

如果从 $v_i$ 到 $v_j$ 存在存在非简单的路径（包含环路的路径），那么从 $v_i$ 到 $v_j$ 就有无穷多条不同的路径（绕圈）



有根图：如果在有向图 $G$ 中存在一个顶点 $v$，从顶点 $v$ 到图 $G$ 中其他每个顶点均有路径，则称 $G$ 为有根图（$v$）



**连通图**

连通：如果在无向图 $G$ 中存在从 $v_i$ 到 $v_j$ 的路径，则称从 $v_i$ 到 $v_j$ 连通，或称从 $v_i$ 可达 $v_j$

> 无向图的连通性是双向的
>
> 对有向图也可有类似的定义，只是连通性不一定是双向的

连通图：如果无向图 $G$ 中任意两个顶点 $v_i$ 与 $v_j$ 之间都连通，则称 $G$ 为连通无向图，简称连通图

强连通图：对于有向图 $G$ 中任意两个顶点 $v_i$ 与 $v_j$，双向都连通，则称 $G$ 为强连通有向图，简称强连通图

+ 完全无向图都是连通图
+ 完全有向图都是强连通图

最小连通无向图的边数：包含 $n$ 个顶点的最小连通无向图 $G$ 有 $n-1$ 条边

> 最小连通图：本身为连通图，但去掉其中任一条边将不再是连通图

最小有根图的边数：包含 $n$ 个顶点的最小有根图 $G$ 有 $n-1$ 条边

> 最小有根图：本身为有根图，但去掉其中任一条边将不再是有根图



**子图、连通子图**

对于 $G=(V，E)$ 和 $G'=(V'，E')$，如果 $V'\subseteq V$ 且 $E'\subseteq E$，就称 $G'$是 $G$ 的子图（$G$ 是其自身的子图）

一个图可能不是连通图（或强连通图），但它的一些子图则可能是连通的（或强连通的）



图 $G$ 的一个极大连通子图（或称连通分量）$G'$ 是图 $G$ 的一个连通子图，且 $G$ 中不存在真包含 $G'$ 的连通子图

> 从连通性的角度看，图 $G'$ 的顶点和边集都已经不能扩充，是极大的（否则就不连通）
>
> + 如果图 $G$ 本身连通，它将只有一个连通分量，就是 $G$ 本身
> + 如果图 $G$ 本身不连通，则其连通分量多于一个

无向图 $G$ 的所有连通分量形成了图 $G$ 的一个划分，每个连通分量包含图 $G$ 的一集顶点和它们之间的所有边，不同连通分量的顶点集合互不相交，而这些顶点集和边集的并就是原来的 $G$



有向图 $G$ 的一个极大强连通子图称为它的一个强连通分量，但请注意，图 $G$ 的强连通分量只形成其顶点的一个划分，所有强连通分量的并未必等于图 $G$，可能少一些连接不同连通分量的有向边，这一点与无向图不同



**带权图、网络**

如果图 $G$ 中的每条边都被赋予一个权值，则称 $G$ 为一个带权图

+ 带权有向图
+ 带权无向图（带权的连通无向图也被称为网络）





## 图的抽象数据类型

```python
ADT Graph:
    Graph(self)                           # 构造图
    is_empty(self)                        # 判断是否为空图
    vertex_num(self)                      # 获取该图中顶点的个数
    edge_num(self)                        # 获取该图中边的条数
    vertices(self)                        # 获取该图中的顶点集合
    edges(self)                           # 获取该图中的边集合
    add_vertex(self, vertex)              # 将顶点 vertex 加入该图
    add_edge(self, v1, v2)                # 将从 v1 到 v2 的边加入该图
    get_edge(self, v1, v2)                # 获取 v1 到 v2 边的有关信息
    out_edges(self, v)                    # 获取从顶点 v 出发的所有边
    degree(self, v)                       # 检查顶点 v 的度
```

图的遍历与树的遍历有较大差异，主要在于：

+ 图中可能有回路，到同一个顶点可能有多条路径，因此在遍历中需要避免再次进入已经遍历过的部分
+ 图有可能不连通或者这个图不是有根图，即使是有根图，也可能没有从图中的根开始遍历。因此要完成对一个图里所有顶点或边的遍历，遍历完图中可达的那个部分，还需要考虑从初始顶点不可达的部分





## 图的表示









### 邻接矩阵





### 邻接表









## 图的实现





## 图的基本算法





## 最小生成树





## 最短路径







## AOV/AOOE 网及其算法





